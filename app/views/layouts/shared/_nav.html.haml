%nav.navbar.navbar-fixed-top
  .container
    - if user_signed_in?
      %p#username
        Welcome, #{current_user.username}!
    .navbar-header
      %button.navbar-toggle.collapsed{"aria-controls" => "navbar", "aria-expanded" => "false", "data-target" => "#navbar", "data-toggle" => "collapse", :type => "button"}
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand{:href => "#"}
    #navbar.navbar-collapse.collapse
      %ul.nav.navbar-nav
        %li= link_to '<i class="icon-stockpot"></i> Home'.html_safe, root_path
        %li= link_to '<i class="icon-pear"></i> Recipes'.html_safe, recipes_path
        %li= link_to '<i class="icon-ladle"></i> About'.html_safe, pages_about_path
        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
            %i.icon-burger
            Community
            %span.caret
          %ul.dropdown-menu
            %li= link_to 'All Users'.html_safe, users_path
            %li= link_to 'Forum', forums_path
        %li= link_to '<i class="icon-fork"></i> Blog'.html_safe, blog_path 
        - if user_signed_in?
          %li.dropdown
            %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
              %i.icon-pear
              Actions
              %span.caret
            %ul.dropdown-menu
              %li= link_to 'View Profile', current_user
              %li= link_to 'Edit Sign-In', edit_user_registration_path
              %li= link_to 'Edit Profile', edit_user_path(current_user)
              %li= link_to 'Add Recipe', new_recipe_path
            %li#username
              %li= link_to '<i class="icon-icecreamcone"></i> Logout'.html_safe, destroy_user_session_path, method: :delete
        - else
          %li= link_to '<i class="icon-pear"></i> Sign Up'.html_safe, new_user_registration_path
          %li= link_to '<i class="icon-beverage"></i> Login'.html_safe, new_user_session_path

